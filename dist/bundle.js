!function(t){var i={};function e(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var a in t)e.d(s,a,function(i){return t[i]}.bind(null,a));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=1)}([function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getFont=i.debounce=i.roundedRect=i.milimeterToPixel=void 0,i.milimeterToPixel=t=>3.779527559*t,i.roundedRect=(t,i,e,s,a,h,r,o,n,d,c)=>{t.save();let l=i,u=e,g=n;c&&(t.translate(i+s/2,e+a/2),t.rotate((c||0*Math.PI)/180),t.fillStyle="blue",t.fillRect(0,0,2,2),l=-s/2,u=-a/2),t.strokeStyle=o,t.fillStyle=r,d&&(g*=2),t.lineWidth=g,t.beginPath(),t.moveTo(l+h,u),t.quadraticCurveTo(l,u,l,u+h),t.lineTo(l,u+a-h),t.quadraticCurveTo(l,u+a,l+h,u+a),t.lineTo(l+s-h,u+a),t.quadraticCurveTo(l+s,u+a,l+s,u+a-h),t.lineTo(l+s,u+h),t.quadraticCurveTo(l+s,u,l+s-h,u),t.closePath(),t.stroke(),d&&t.fill(),t.restore()},i.debounce=(t,i)=>{let e;return function(...s){clearTimeout(e),e=setTimeout(()=>{e=null,t(...s)},i)}},i.getFont=(t,i)=>`${t}px ${i}`},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(2);window.onload=()=>{(new s.default).start()}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(3),a=e(4),h=e(6);i.default=class{constructor(){this.canvas=document.getElementById("uno"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=this.canvas.width,this.height=this.canvas.height,this.canvas.style.border="1px solid black",this.ctx=this.canvas.getContext("2d"),this.state={grabbedCard:void 0,hoverCard:void 0,mouseUpPosition:{x:void 0,y:void 0},mouseDownPosition:{x:void 0,y:void 0},mouseLastPosition:{x:void 0,y:void 0},clicking:!1},this.events=[],this.running=!1,this.cards=[],this.gameConfig={nCards:108},this.hand=void 0}start(){this.init(),this.running&&requestAnimationFrame(this.animate.bind(this))}setContextCursor(t){return this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t),t}grabCard(t){this.state.grabbedCard||(this.setContextCursor("grabbing"),t.setState("grabbing",!0),this.state.grabbedCard=t,this.state.grabbedCard.setState("inHand",!1));const i=this.state.mouseDownPosition.x-t.initialX,e=this.state.mouseDownPosition.y-t.initialY;return t.x=Number((this.state.mouseLastPosition.x-i).toFixed(3)),t.y=Number((this.state.mouseLastPosition.y-e).toFixed(3)),t}releaseCard(t){return this.setContextCursor("grab"),t.initialX=t.x,t.initialY=t.y,t.setState("grabbing",!1),this.state.grabbedCard.setState("inHand",!0),this.state.grabbedCard=void 0,t}onLoop(){this.hand.update(),this.handleHoverCard(this.state.hoverCard),this.state.hoverCard?this.state.clicking?this.grabCard(this.state.hoverCard):this.state.grabbedCard&&this.releaseCard(this.state.grabbedCard):this.state.clicking||(this.setContextCursor("initial"),this.state.hoverCard&&(this.state.hoverCard=void 0)),this.state.grabbedCard&&(this.state.clicking?this.grabCard(this.state.grabbedCard):this.releaseCard(this.state.grabbedCard)),this.state.clicking||(this.state.mouseDownPosition={x:void 0,y:void 0})}init(){window.addEventListener("mousemove",this.handleMouseMove.bind(this),!1),window.addEventListener("mousedown",this.handleMouseDown.bind(this),!1),window.addEventListener("mouseup",this.handleMouseUp.bind(this),!1),this.hand=new s.default(this.ctx);const t=Object.keys(h.CardColorEnum).filter(t=>!parseInt(t,10)&&0!==parseInt(t,10));for(let i=0;i<20;i+=1){const i=Math.floor(Math.random()*t.length),e=new a.default(this.ctx,{color:t[i],type:"NUMBER",value:Math.floor(10*Math.random())},0,0);this.hand.addCard(e)}this.hand.initHand(),this.running=!0}onRender(){this.drawBackground(),this.hand.drawHand()}animate(){this.onLoop(),this.onRender(),requestAnimationFrame(this.animate.bind(this))}handleMouseDown(t){this.state.clicking=!0,this.state.mouseDownPosition={x:t.offsetX,y:t.offsetY}}handleMouseUp(t){this.state.clicking=!1,this.state.mouseUpPosition={x:t.offsetX,y:t.offsetY}}handleMouseMove(t){if(this.state.mouseLastPosition={x:t.offsetX,y:t.offsetY},!this.state.clicking){const i=[...this.hand.cards].reverse();let e=!1;i.forEach(i=>(i.isHovering(t.offsetX,t.offsetY)&&!e&&(this.setContextCursor("grab"),this.state.hoverCard=i,e=!0),i.state.hovering=!1,!0))}}drawBackground(){this.ctx.fillStyle="rgb(230, 230, 230)",this.ctx.fillRect(0,0,this.width,this.height)}handleHoverCard(t){if(t&&t===this.state.hoverCard){t.isHovering(this.state.mouseLastPosition.x,this.state.mouseLastPosition.y)?this.state.clicking||t.state.inHand&&(this.state.hoverCard.state.hovering=!0,t.shake(),t.highlight()):this.state.clicking||(this.state.hoverCard.state.hovering=!1,this.state.hoverCard=void 0)}}drawDebug(){this.ctx.fillStyle="orange",this.ctx.fillRect(this.state.mouseLastPosition.x,this.state.mouseLastPosition.y,5,5);const t=this.canvas.height-80-10,i=60;let e=10;this.ctx.fillStyle=this.state.clicking?"green":"black",this.ctx.fillRect(e,t,i,i),e+=80,this.ctx.fillStyle=this.state.hoverCard?this.state.hoverCard.getRGB():"black",this.ctx.fillRect(10+e,t,i,i),e+=80,this.ctx.fillStyle=this.state.grabbedCard?this.state.grabbedCard.getRGB():"black",this.ctx.fillRect(10+e,t,i,i)}}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=class{constructor(t){this.ctx=t,this.cards=[],this.bottomMargin=100}initHand(){const t=this.ctx.canvas;if(this.cards.length>0){let i=t.width/this.cards.length*2;const e=.6;this.cards.forEach((s,a)=>{const h=i,r=t.height-100-s.height-.9*a;s.setPos(h,r),i+=s.width-s.width*e})}}addCard(t){return this.cards.push(t),t}update(){this.cards.forEach(t=>{t.update()})}drawHand(){this.cards.forEach(t=>{t.draw()})}}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(0),a=e(5);i.default=class{constructor(t,i,e,h){this.ctx=t,this.initialWidth=s.milimeterToPixel(57),this.initialHeight=s.milimeterToPixel(89),this.x=e,this.initialX=e,this.y=h,this.initialY=h,this.state={animationRotationDirection:1,shaking:!1,highlighting:!1,hovering:!1,rotation:0,sizeRatio:.8,frontFacing:!0,grabbing:!1,inHand:!0},this.borderWidth=18*this.state.sizeRatio,this.borderRadius=18*this.state.sizeRatio,this.offsetX=0,this.offsetY=0,this.config=i,this.cardFrontFace=new a.default(this),this.color=this.getRGB()}get width(){return this.initialWidth*this.state.sizeRatio-2*this.borderWidth}get height(){return this.initialHeight*this.state.sizeRatio-2*this.borderWidth}get left(){return this.x-this.borderRadius}get right(){return this.x+this.width+this.borderRadius}get top(){return this.y-this.borderRadius}get bottom(){return this.y+this.height-this.borderRadius}update(){(this.state.shaking||0!==this.state.rotation)&&this.animateShake(),(this.state.highlighting||this.y<this.initialY&&!this.state.highlighting)&&this.animateMovingTop()}draw(){s.roundedRect(this.ctx,this.x,this.y,this.width,this.height,this.borderRadius,this.color,"rgb(250, 250, 250)",this.borderWidth,!0,this.state.rotation),this.cardFrontFace.draw(),this.ctx.lineWidth=3}setPos(t,i){return this.x=t,this.y=i,this.initialX=t,this.initialY=i,{x:this.x,y:this.y}}shake(){this.state.shaking||(this.state.shaking=!0,setTimeout(()=>{this.state.shaking=!1},50))}highlight(){this.state.highlighting||(this.state.highlighting=!0,setTimeout(()=>{this.state.highlighting=!1},250))}setState(t,i){this.state[t]=i}setSizeRatio(t){let i=t;return i>2?i=2:i<.3&&(i=.5),this.state.sizeRatio=i,this.borderWidth*=i,this.borderRadius*=i,this.state.sizeRatio}isHovering(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom}getRGB(){switch(this.config.color){case"BLUE":return"rgb(1, 83, 165)";case"GREEN":return"rgb(98, 167, 50)";case"RED":return"rgb(231, 37, 37)";case"YELLOW":return"rgb(240, 210, 50)";case"ANY":return"rgb(0, 0, 0)";default:return"rgb(255, 0, 255)"}}animateShake(){const{rotation:t,animationRotationDirection:i}=this.state;(t>1&&i>0||t<-1&&i<0)&&(this.state.animationRotationDirection*=-1),this.state.rotation+=.5*i,this.state.rotation=Number(t.toFixed(2))}animateMovingTop(){const t=50*this.state.sizeRatio;let i=20;this.state.highlighting?this.y>=this.initialY-t&&(this.y-=i):(i=20,this.y<=this.initialY&&!this.state.hovering&&(this.y+=i))}drawBoundingRect(){let t;t=this.state.grabbing?"green":this.state.hovering?"magenta":"black",this.ctx.strokeStyle=t,this.ctx.strokeRect(this.x,this.y,this.width,this.height)}}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(0);i.default=class{constructor(t){this.card=t,this.ctx=t.ctx,this.fontSize=t.height/2.5,this.fontFamily="Arial Black",this.fontStrokeWidth=3*this.card.state.sizeRatio}draw(){this.ctx.save(),this.ctx.translate(this.card.x+this.card.width/2,this.card.y+this.card.height/2),this.ctx.rotate(this.card.state.rotation*Math.PI/180),this.drawBackground(),"NUMBER"===this.card.config.type&&this.drawNumber(this.card.config.value.toString()),this.ctx.restore()}getX(){return this.card.x+this.card.width/2}getY(){return this.card.y+this.card.height/2}drawBackground(){"NUMBER"===this.card.config.type&&(this.ctx.beginPath(),this.ctx.lineWidth=10,this.ctx.ellipse(0,0,this.card.width-80,this.card.height-133,15*Math.PI/180,0,2*Math.PI,!1),this.ctx.strokeStyle="white",this.ctx.stroke())}drawNumber(t){const i=this.card.width/2,e=s.getFont(this.fontSize,this.fontFamily);if(this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.drawText(t,e,0,0,i),"6"===t||"9"===t){const e=this.ctx.measureText(t).width;this.drawBottomDash(0-e/2,0+this.fontSize/3+2*this.card.state.sizeRatio,e,i,this.fontSize)}const a=this.fontSize/2-10,h=s.getFont(a,this.fontFamily),r=0-this.card.width/2+a/2,o=0-this.card.height/2+a/2+10;this.drawText(t,h,r,o,i/2,5);const n=0+this.card.width/2-a/2,d=0+this.card.height/2-a/2-10;if(this.drawText(t,h,n,d,i/2,5),"6"===t||"9"===t){const e=this.ctx.measureText(t).width;this.drawBottomDash(r-e/2,o+5+a/4+2*this.card.state.sizeRatio,e,i/2,a,5),this.drawBottomDash(n-e/2,d+5+a/4+2*this.card.state.sizeRatio,e,i/2,a,5)}}drawTextShadow(t,i,e,s,a,h){this.ctx.fillStyle="black",this.ctx.strokeStyle="black",this.ctx.font=i;for(let i=0;i<e*this.card.state.sizeRatio;i+=1)this.ctx.fillText(t,s-i,a+i/2,h)}drawText(t,i,e,s,a,h=10){this.drawTextShadow(t,i,h,e,s,a),this.ctx.font=i,this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=this.fontStrokeWidth,this.ctx.fillText(t,e,s,a),this.ctx.strokeText(t,e,s,a)}drawRectShadow(t,i,e,s,a){this.ctx.fillStyle="black",this.ctx.strokeStyle="black";for(let h=0;h<t*this.card.state.sizeRatio;h+=1)this.ctx.fillRect(i-h,e+h,s,a)}drawBottomDash(t,i,e,s,a,h=10){let r=0,o=e;e>s&&(r=e-s,o=s),this.ctx.strokeRect(t+r,i,o,a/6),this.drawRectShadow(h,t+r,i,o,a/6),this.ctx.strokeStyle="black",this.ctx.fillStyle="white";const n=a/6;this.ctx.fillRect(t+r,i,o,n),this.ctx.strokeRect(t+r,i,o,n)}}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CardTypeEnum=i.CardColorEnum=void 0,function(t){t[t.RED=0]="RED",t[t.YELLOW=1]="YELLOW",t[t.GREEN=2]="GREEN",t[t.BLUE=3]="BLUE",t[t.ANY=4]="ANY"}(i.CardColorEnum||(i.CardColorEnum={})),function(t){t[t.NUMBER=0]="NUMBER",t[t.SKIP=1]="SKIP",t[t.REVERSE=2]="REVERSE",t[t.DRAW_TWO=3]="DRAW_TWO",t[t.WILD=4]="WILD",t[t.WILD_DRAW_FOUR=5]="WILD_DRAW_FOUR"}(i.CardTypeEnum||(i.CardTypeEnum={}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91bm8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hhbmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zyb250ZmFjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZXMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJtaWxpbWV0ZXJUb1BpeGVsIiwibW0iLCJyb3VuZGVkUmVjdCIsImNvbnRleHQiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwicmFkaXVzIiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJsaW5lV2lkdGgiLCJmaWxsIiwicm90YXRpb24iLCJzYXZlIiwieFBvcyIsInlQb3MiLCJzdHJva2VXaWR0aCIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsIk1hdGgiLCJQSSIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJxdWFkcmF0aWNDdXJ2ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwic3Ryb2tlIiwicmVzdG9yZSIsImRlYm91bmNlIiwiZnVuYyIsIndhaXQiLCJ0aW1lb3V0IiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJnZXRGb250Iiwic2l6ZSIsImZhbWlseSIsIndpbmRvdyIsIm9ubG9hZCIsInN0YXJ0IiwidGhpcyIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJzdHlsZSIsImJvcmRlciIsImN0eCIsImdldENvbnRleHQiLCJzdGF0ZSIsImdyYWJiZWRDYXJkIiwidW5kZWZpbmVkIiwiaG92ZXJDYXJkIiwibW91c2VVcFBvc2l0aW9uIiwibW91c2VEb3duUG9zaXRpb24iLCJtb3VzZUxhc3RQb3NpdGlvbiIsImNsaWNraW5nIiwiZXZlbnRzIiwicnVubmluZyIsImNhcmRzIiwiZ2FtZUNvbmZpZyIsIm5DYXJkcyIsImhhbmQiLCJpbml0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYW5pbWF0ZSIsImN1cnNvciIsImNhcmQiLCJzZXRDb250ZXh0Q3Vyc29yIiwic2V0U3RhdGUiLCJvZmZzZXRYIiwiaW5pdGlhbFgiLCJvZmZzZXRZIiwiaW5pdGlhbFkiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwidXBkYXRlIiwiaGFuZGxlSG92ZXJDYXJkIiwiZ3JhYkNhcmQiLCJyZWxlYXNlQ2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVNb3VzZU1vdmUiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVNb3VzZVVwIiwiY29sb3JzIiwia2V5cyIsIkNhcmRDb2xvckVudW0iLCJmaWx0ZXIiLCJrIiwicGFyc2VJbnQiLCJjb2xvckluZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJjb2xvciIsInR5cGUiLCJhZGRDYXJkIiwiaW5pdEhhbmQiLCJkcmF3QmFja2dyb3VuZCIsImRyYXdIYW5kIiwib25Mb29wIiwib25SZW5kZXIiLCJldmVudCIsInJldmVyc2VkQ2FyZHMiLCJyZXZlcnNlIiwiZ290SG92ZXIiLCJmb3JFYWNoIiwiaXNIb3ZlcmluZyIsImhvdmVyaW5nIiwiaW5IYW5kIiwic2hha2UiLCJoaWdobGlnaHQiLCJ3Iiwib2Zmc2V0IiwiZ2V0UkdCIiwiYm90dG9tTWFyZ2luIiwieE9mZnNldCIsIm92ZXJsYXAiLCJzZXRQb3MiLCJwdXNoIiwiZHJhdyIsImNvbmZpZyIsImluaXRpYWxXaWR0aCIsImluaXRpYWxIZWlnaHQiLCJhbmltYXRpb25Sb3RhdGlvbkRpcmVjdGlvbiIsInNoYWtpbmciLCJoaWdobGlnaHRpbmciLCJzaXplUmF0aW8iLCJmcm9udEZhY2luZyIsImdyYWJiaW5nIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiLCJjYXJkRnJvbnRGYWNlIiwiYW5pbWF0ZVNoYWtlIiwiYW5pbWF0ZU1vdmluZ1RvcCIsInJhdGlvIiwibW91c2VYIiwibW91c2VZIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwicmFuZ2UiLCJzcGVlZCIsInN0cm9rZVJlY3QiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJmb250U3Ryb2tlV2lkdGgiLCJkcmF3TnVtYmVyIiwidG9TdHJpbmciLCJlbGxpcHNlIiwibnVtYmVyIiwibWF4V2lkdGgiLCJmb250IiwidGV4dEJhc2VsaW5lIiwidGV4dEFsaWduIiwiZHJhd1RleHQiLCJ0ZXh0V2lkdGgiLCJtZWFzdXJlVGV4dCIsImRyYXdCb3R0b21EYXNoIiwiY29ybmVyRm9udFNpemUiLCJjb3JuZXJGb250IiwidG9wWCIsInRvcFkiLCJib3R0b21YIiwiYm90dG9tWSIsInNpZGVUZXh0V2lkdGgiLCJ0ZXh0IiwiZmlsbFRleHQiLCJzaGFkb3dPZmZzZXQiLCJkcmF3VGV4dFNoYWRvdyIsInN0cm9rZVRleHQiLCJkaWZmIiwiZGFzaFdpZHRoIiwiZHJhd1JlY3RTaGFkb3ciLCJDYXJkVHlwZUVudW0iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFB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SyxFQUFXNUssR0FDMUNzQyxLQUFLUSxJQUFJaUcsV0FBV2xKLEVBQUk4SyxFQUFNN0ssRUFBRzhLLEVBQVc1SyxNLG9IQ2xFcEQsU0FBWXFGLEdBQ1IsaUJBQ0EsdUJBQ0EscUJBQ0EsbUJBQ0EsaUJBTEosQ0FBWSxFQUFBQSxnQkFBQSxFQUFBQSxjQUFhLEtBT3pCLFNBQVl5RixHQUNSLHVCQUNBLG1CQUNBLHlCQUNBLDJCQUNBLG1CQUNBLHVDQU5KLENBQVksRUFBQUEsZUFBQSxFQUFBQSxhQUFZIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImV4cG9ydCBjb25zdCBtaWxpbWV0ZXJUb1BpeGVsID0gKG1tOiBudW1iZXIpOiBudW1iZXIgPT4gbW0gKiAzLjc3OTUyNzU1OTtcblxuZXhwb3J0IGNvbnN0IHJvdW5kZWRSZWN0ID0gKFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgcmFkaXVzOiBudW1iZXIsXG4gICAgZmlsbENvbG9yOiBzdHJpbmcsXG4gICAgc3Ryb2tlQ29sb3I6IHN0cmluZyxcbiAgICBsaW5lV2lkdGg6IG51bWJlcixcbiAgICBmaWxsOiBib29sZWFuLFxuICAgIHJvdGF0aW9uPzogbnVtYmVyLFxuKTogdm9pZCA9PiB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgbGV0IHhQb3MgPSB4O1xuICAgIGxldCB5UG9zID0geTtcbiAgICBsZXQgc3Ryb2tlV2lkdGggPSBsaW5lV2lkdGg7XG5cbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCArIHdpZHRoIC8gMiwgeSArIGhlaWdodCAvIDIpO1xuICAgICAgICBjb250ZXh0LnJvdGF0ZSgocm90YXRpb24gfHwgMCAqIE1hdGguUEkpIC8gMTgwKTtcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibHVlJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAyLCAyKTtcbiAgICAgICAgeFBvcyA9IC13aWR0aCAvIDI7XG4gICAgICAgIHlQb3MgPSAtaGVpZ2h0IC8gMjtcbiAgICB9XG5cbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3I7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG5cbiAgICBpZiAoZmlsbCkge1xuICAgICAgICBzdHJva2VXaWR0aCAqPSAyO1xuICAgIH1cblxuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlV2lkdGg7XG5cbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKHhQb3MgKyByYWRpdXMsIHlQb3MpO1xuICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyh4UG9zLCB5UG9zLCB4UG9zLCB5UG9zICsgcmFkaXVzKTtcbiAgICBjb250ZXh0LmxpbmVUbyh4UG9zLCB5UG9zICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oeFBvcywgeVBvcyArIGhlaWdodCwgeFBvcyArIHJhZGl1cywgeVBvcyArIGhlaWdodCk7XG4gICAgY29udGV4dC5saW5lVG8oeFBvcyArIHdpZHRoIC0gcmFkaXVzLCB5UG9zICsgaGVpZ2h0KTtcbiAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oeFBvcyArIHdpZHRoLCB5UG9zICsgaGVpZ2h0LCB4UG9zICsgd2lkdGgsIHlQb3MgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgIGNvbnRleHQubGluZVRvKHhQb3MgKyB3aWR0aCwgeVBvcyArIHJhZGl1cyk7XG4gICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHhQb3MgKyB3aWR0aCwgeVBvcywgeFBvcyArIHdpZHRoIC0gcmFkaXVzLCB5UG9zKTtcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgaWYgKGZpbGwpIHtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlYm91bmNlID0gKGZ1bmM6ICguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24sIHdhaXQ6IG51bWJlcik6ICgoKSA9PiB1bmtub3duKSA9PiB7XG4gICAgbGV0IHRpbWVvdXQ6IG51bWJlcjtcblxuICAgIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3M6IHVua25vd25bXSkge1xuICAgICAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGb250ID0gKHNpemU6IG51bWJlciwgZmFtaWx5OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBgJHtzaXplfXB4ICR7ZmFtaWx5fWA7XG59O1xuIiwiaW1wb3J0IFVubyBmcm9tICcuL3Vubyc7XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgY29uc3QgdW5vID0gbmV3IFVubygpO1xuICAgIHVuby5zdGFydCgpO1xufTtcbiIsImltcG9ydCBIYW5kIGZyb20gJy4vaGFuZCc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NhcmQnO1xuaW1wb3J0IHtcbiAgICBVbm9JbnRlcmZhY2UsXG4gICAgR2FtZVN0YXRlSW50ZXJmYWNlLFxuICAgIEdhbWVFdmVudEludGVyZmFjZSxcbiAgICBHYW1lQ29uZmlnSW50ZXJmYWNlLFxuICAgIENhcmRDb2xvclR5cGUsXG4gICAgQ2FyZE51bWJlclR5cGUsXG4gICAgQ2FyZENvbG9yRW51bSxcbiAgICBDYXJkSW50ZXJmYWNlLFxufSBmcm9tICcuL3R5cGVzJztcblxuY2xhc3MgVW5vIGltcGxlbWVudHMgVW5vSW50ZXJmYWNlIHtcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgc3RhdGU6IEdhbWVTdGF0ZUludGVyZmFjZTtcbiAgICBldmVudHM6IEdhbWVFdmVudEludGVyZmFjZVtdO1xuICAgIGdhbWVDb25maWc6IEdhbWVDb25maWdJbnRlcmZhY2U7XG4gICAgcnVubmluZzogYm9vbGVhbjtcbiAgICBjYXJkczogQ2FyZEludGVyZmFjZVtdO1xuICAgIGhhbmQ6IEhhbmQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VubycpO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgYmxhY2snO1xuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBncmFiYmVkQ2FyZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaG92ZXJDYXJkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtb3VzZVVwUG9zaXRpb246IHsgeDogdW5kZWZpbmVkLCB5OiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgIG1vdXNlRG93blBvc2l0aW9uOiB7IHg6IHVuZGVmaW5lZCwgeTogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICBtb3VzZUxhc3RQb3NpdGlvbjogeyB4OiB1bmRlZmluZWQsIHk6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgY2xpY2tpbmc6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYXJkcyA9IFtdO1xuICAgICAgICB0aGlzLmdhbWVDb25maWcgPSB7XG4gICAgICAgICAgICBuQ2FyZHM6IDEwOCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Q29udGV4dEN1cnNvcihjdXJzb3I6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3IgIT09IGN1cnNvcikge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJzb3I7XG4gICAgfVxuXG4gICAgcHVibGljIGdyYWJDYXJkKGNhcmQ6IENhcmRJbnRlcmZhY2UpOiBDYXJkSW50ZXJmYWNlIHtcbiAgICAgICAgLy8gaWYgZ3JhYiBzdGF0ZSBpcyBub3Qgc2V0LCBzZXQgaXQgbm93XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5ncmFiYmVkQ2FyZCkge1xuICAgICAgICAgICAgLy8gc2V0IHRoZSBtb3VzZSBjdXJzb3Igc3R5bGUgdG8gYGdyYWJiaW5nYFxuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0Q3Vyc29yKCdncmFiYmluZycpO1xuICAgICAgICAgICAgLy8gc2V0IHRoZSBjYXJkIHN0YXRlIHRvIGdyYWJiaW5nIChhY3RpdmUpXG4gICAgICAgICAgICBjYXJkLnNldFN0YXRlKCdncmFiYmluZycsIHRydWUpO1xuICAgICAgICAgICAgLy8gc2V0IHRoZSBnYW1lIGdyYWJiZWRDYXJkIHN0YXRlIHRvIHRoZSBjYXJkXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmdyYWJiZWRDYXJkID0gY2FyZDtcbiAgICAgICAgICAgIC8vIHB1dCBpdCBvbiB0b3Agb2YgdGhlIGNhcmRzIGxpc3QgKCBmb3IgcmVuZGVyaW5nIHB1cnBvc2VzIC0gdG9wIG9mIHRoZSBzdGFjaylcbiAgICAgICAgICAgIC8vIHRoaXMuaGFuZC5jYXJkcy5zcGxpY2UodGhpcy5oYW5kLmNhcmRzLmluZGV4T2YodGhpcy5zdGF0ZS5ob3ZlckNhcmQpLCAxKVxuICAgICAgICAgICAgLy8gdGhpcy5oYW5kLmNhcmRzLnB1c2godGhpcy5zdGF0ZS5ob3ZlckNhcmQpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ncmFiYmVkQ2FyZC5zZXRTdGF0ZSgnaW5IYW5kJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbmQgb2Zmc2V0IGZyb20gbW91c2Vwb3MgdG8gY2FyZCBwb3NcbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMuc3RhdGUubW91c2VEb3duUG9zaXRpb24ueCAtIGNhcmQuaW5pdGlhbFg7XG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLnN0YXRlLm1vdXNlRG93blBvc2l0aW9uLnkgLSBjYXJkLmluaXRpYWxZO1xuXG4gICAgICAgIC8vIG1vdmUgY2FyZCBvZmZzZXR0ZWQgZnJvbSB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlXG4gICAgICAgIGNhcmQueCA9IE51bWJlcigodGhpcy5zdGF0ZS5tb3VzZUxhc3RQb3NpdGlvbi54IC0gb2Zmc2V0WCkudG9GaXhlZCgzKSk7XG4gICAgICAgIGNhcmQueSA9IE51bWJlcigodGhpcy5zdGF0ZS5tb3VzZUxhc3RQb3NpdGlvbi55IC0gb2Zmc2V0WSkudG9GaXhlZCgzKSk7XG4gICAgICAgIHJldHVybiBjYXJkO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWxlYXNlQ2FyZChjYXJkOiBDYXJkSW50ZXJmYWNlKTogQ2FyZEludGVyZmFjZSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEN1cnNvcignZ3JhYicpO1xuICAgICAgICBjYXJkLmluaXRpYWxYID0gY2FyZC54O1xuICAgICAgICBjYXJkLmluaXRpYWxZID0gY2FyZC55O1xuICAgICAgICBjYXJkLnNldFN0YXRlKCdncmFiYmluZycsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5ncmFiYmVkQ2FyZC5zZXRTdGF0ZSgnaW5IYW5kJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc3RhdGUuZ3JhYmJlZENhcmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBjYXJkO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Mb29wKCkge1xuICAgICAgICB0aGlzLmhhbmQudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gaGFuZGxlIGhvdmVyIHN0YXRlc1xuICAgICAgICB0aGlzLmhhbmRsZUhvdmVyQ2FyZCh0aGlzLnN0YXRlLmhvdmVyQ2FyZCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmhvdmVyQ2FyZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2xpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBncmFiYmluZ1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhYkNhcmQodGhpcy5zdGF0ZS5ob3ZlckNhcmQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmdyYWJiZWRDYXJkKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCBncmFiYmluZyBjYXJkXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlQ2FyZCh0aGlzLnN0YXRlLmdyYWJiZWRDYXJkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZS5jbGlja2luZykge1xuICAgICAgICAgICAgLy8gbm8gYWN0aXZlIGNhcmRzICggbm8gaG92ZXJpbmcsIG5vIGdyYWJiaW5nIClcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEN1cnNvcignaW5pdGlhbCcpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaG92ZXJDYXJkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5ob3ZlckNhcmQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncmFiYmVkQ2FyZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2xpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBncmFiYmluZ1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhYkNhcmQodGhpcy5zdGF0ZS5ncmFiYmVkQ2FyZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUNhcmQodGhpcy5zdGF0ZS5ncmFiYmVkQ2FyZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2xpY2tpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubW91c2VEb3duUG9zaXRpb24gPSB7IHg6IHVuZGVmaW5lZCwgeTogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXQoKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVNb3VzZVVwLmJpbmQodGhpcyksIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmQgPSBuZXcgSGFuZCh0aGlzLmN0eCk7XG5cbiAgICAgICAgY29uc3QgY29sb3JzOiBzdHJpbmdbXSA9IE9iamVjdC5rZXlzKENhcmRDb2xvckVudW0pLmZpbHRlcigoaykgPT4gIXBhcnNlSW50KGssIDEwKSAmJiBwYXJzZUludChrLCAxMCkgIT09IDApO1xuICAgICAgICAvLyBjb25zdCB0eXBlcyA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9ySW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICAgICAgICAgICAgICB0aGlzLmN0eCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiA8Q2FyZENvbG9yVHlwZT5jb2xvcnNbY29sb3JJbmRleF0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdOVU1CRVInLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogPENhcmROdW1iZXJUeXBlPk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmhhbmQuYWRkQ2FyZChjYXJkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmQuaW5pdEhhbmQoKTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBwcml2YXRlIG9uRXZlbnQoZXZlbnQ6IEdhbWVFdmVudEludGVyZmFjZSkge1xuICAgIC8vICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgLy8gICAgICAgICBkZWZhdWx0OlxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgcHJpdmF0ZSBvblJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5kcmF3QmFja2dyb3VuZCgpO1xuICAgICAgICB0aGlzLmhhbmQuZHJhd0hhbmQoKTtcbiAgICAgICAgLy8gdGhpcy5kcmF3RGVidWcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFuaW1hdGUoKSB7XG4gICAgICAgIC8vIHdoaWxlICh0aGlzLmV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHRoaXMub25FdmVudCh0aGlzLmV2ZW50cy5wb3AoKSk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgdGhpcy5vblJlbmRlcigpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuc3RhdGUuY2xpY2tpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXRlLm1vdXNlRG93blBvc2l0aW9uID0geyB4OiBldmVudC5vZmZzZXRYLCB5OiBldmVudC5vZmZzZXRZIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuc3RhdGUuY2xpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZS5tb3VzZVVwUG9zaXRpb24gPSB7IHg6IGV2ZW50Lm9mZnNldFgsIHk6IGV2ZW50Lm9mZnNldFkgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICB0aGlzLnN0YXRlLm1vdXNlTGFzdFBvc2l0aW9uID0geyB4OiBldmVudC5vZmZzZXRYLCB5OiBldmVudC5vZmZzZXRZIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNsaWNraW5nKSB7XG4gICAgICAgICAgICBjb25zdCByZXZlcnNlZENhcmRzID0gWy4uLnRoaXMuaGFuZC5jYXJkc10ucmV2ZXJzZSgpO1xuICAgICAgICAgICAgbGV0IGdvdEhvdmVyID0gZmFsc2U7XG4gICAgICAgICAgICByZXZlcnNlZENhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FyZC5pc0hvdmVyaW5nKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFkpICYmICFnb3RIb3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgY2FyZCB0byBob3ZlckNhcmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0Q3Vyc29yKCdncmFiJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaG92ZXJDYXJkID0gY2FyZDtcbiAgICAgICAgICAgICAgICAgICAgZ290SG92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXJkLnN0YXRlLmhvdmVyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd0JhY2tncm91bmQoKSB7XG4gICAgICAgIGNvbnN0IGJnQ29sb3IgPSAncmdiKDIzMCwgMjMwLCAyMzApJztcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYmdDb2xvcjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlSG92ZXJDYXJkKGNhcmQ6IENhcmRJbnRlcmZhY2UpIHtcbiAgICAgICAgaWYgKGNhcmQgJiYgY2FyZCA9PT0gdGhpcy5zdGF0ZS5ob3ZlckNhcmQpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIG1vdXNlIGlzIHN0aWxsIGhvdmVyaW5nIGNhcmRcbiAgICAgICAgICAgIGNvbnN0IGlzU3RpbGxIb3ZlcmluZ0NhcmQgPSBjYXJkLmlzSG92ZXJpbmcodGhpcy5zdGF0ZS5tb3VzZUxhc3RQb3NpdGlvbi54LCB0aGlzLnN0YXRlLm1vdXNlTGFzdFBvc2l0aW9uLnkpO1xuXG4gICAgICAgICAgICBpZiAoaXNTdGlsbEhvdmVyaW5nQ2FyZCkge1xuICAgICAgICAgICAgICAgIC8vIG1vdXNlIGlzIHN0aWxsIGhvdmVyaW5nIGNhcmRcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2xpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgaG92ZXIgYW5pbWF0aW9uIG9uIGNhcmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmQuc3RhdGUuaW5IYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmhvdmVyQ2FyZC5zdGF0ZS5ob3ZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnNoYWtlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLmhpZ2hsaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZS5jbGlja2luZykge1xuICAgICAgICAgICAgICAgIC8vIG5vdCBjbGlja2luZyBhbmQgbm90IGhvdmVyaW5nIGEgY2FyZCwgc2V0IGhvdmVyQ2FyZCB0byB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmhvdmVyQ2FyZC5zdGF0ZS5ob3ZlcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaG92ZXJDYXJkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3RGVidWcoKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdvcmFuZ2UnO1xuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh0aGlzLnN0YXRlLm1vdXNlTGFzdFBvc2l0aW9uLngsIHRoaXMuc3RhdGUubW91c2VMYXN0UG9zaXRpb24ueSwgNSwgNSk7XG5cbiAgICAgICAgY29uc3QgZm9udFNpemUgPSA4MDtcblxuICAgICAgICBjb25zdCB4ID0gMTA7XG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLSBmb250U2l6ZSAtIDEwO1xuICAgICAgICBjb25zdCB3ID0gNjA7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IHg7XG4gICAgICAgIC8vIGlzQ2xpY2tpbmdcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5zdGF0ZS5jbGlja2luZyA/ICdncmVlbicgOiAnYmxhY2snO1xuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdChvZmZzZXQsIHksIHcsIHcpO1xuXG4gICAgICAgIG9mZnNldCArPSB3ICsgMjA7XG5cbiAgICAgICAgLy8gaXNIb3ZlcmluZ1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLnN0YXRlLmhvdmVyQ2FyZCA/IHRoaXMuc3RhdGUuaG92ZXJDYXJkLmdldFJHQigpIDogJ2JsYWNrJztcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoeCArIG9mZnNldCwgeSwgdywgdyk7XG5cbiAgICAgICAgb2Zmc2V0ICs9IHcgKyAyMDtcbiAgICAgICAgLy8gaXNHcmFiYmluZ1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLnN0YXRlLmdyYWJiZWRDYXJkID8gdGhpcy5zdGF0ZS5ncmFiYmVkQ2FyZC5nZXRSR0IoKSA6ICdibGFjayc7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KHggKyBvZmZzZXQsIHksIHcsIHcpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFVubztcbiIsImltcG9ydCB7IENhcmRJbnRlcmZhY2UsIEhhbmRJbnRlcmZhY2UgfSBmcm9tICcuL3R5cGVzJztcblxuY2xhc3MgSGFuZCBpbXBsZW1lbnRzIEhhbmRJbnRlcmZhY2Uge1xuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIGNhcmRzOiBDYXJkSW50ZXJmYWNlW107XG4gICAgYm90dG9tTWFyZ2luOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmNhcmRzID0gW107XG4gICAgICAgIHRoaXMuYm90dG9tTWFyZ2luID0gMTAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0SGFuZCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3R4LmNhbnZhcztcbiAgICAgICAgaWYgKHRoaXMuY2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHhPZmZzZXQgPSAoYy53aWR0aCAvIHRoaXMuY2FyZHMubGVuZ3RoKSAqIDI7XG4gICAgICAgICAgICBjb25zdCBvdmVybGFwID0gMC42O1xuICAgICAgICAgICAgdGhpcy5jYXJkcy5mb3JFYWNoKChjYXJkOiBDYXJkSW50ZXJmYWNlLCBpOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0geE9mZnNldDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBjLmhlaWdodCAtIDEwMCAtIGNhcmQuaGVpZ2h0IC0gaSAqIDAuOTtcbiAgICAgICAgICAgICAgICBjYXJkLnNldFBvcyh4LCB5KTtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0ICs9IGNhcmQud2lkdGggLSBjYXJkLndpZHRoICogb3ZlcmxhcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENhcmQoY2FyZDogQ2FyZEludGVyZmFjZSk6IENhcmRJbnRlcmZhY2Uge1xuICAgICAgICB0aGlzLmNhcmRzLnB1c2goY2FyZCk7XG4gICAgICAgIHJldHVybiBjYXJkO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgICAgICAgY2FyZC51cGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXdIYW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgICAgIGNhcmQuZHJhdygpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhhbmQ7XG4iLCJpbXBvcnQgeyBtaWxpbWV0ZXJUb1BpeGVsLCByb3VuZGVkUmVjdCB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBDYXJkSW50ZXJmYWNlLCBDYXJkQ29uZmlnVHlwZUludGVyZmFjZSwgQ2FyZFN0YXRlSW50ZXJmYWNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgQ2FyZEZyb250RmFjZSBmcm9tICcuL2Zyb250ZmFjZSc7XG5cbmNsYXNzIENhcmQgaW1wbGVtZW50cyBDYXJkSW50ZXJmYWNlIHtcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBjb25maWc6IENhcmRDb25maWdUeXBlSW50ZXJmYWNlO1xuICAgIHN0YXRlOiBDYXJkU3RhdGVJbnRlcmZhY2U7XG4gICAgY29sb3I6IHN0cmluZztcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIGluaXRpYWxYOiBudW1iZXI7XG4gICAgaW5pdGlhbFk6IG51bWJlcjtcbiAgICBvZmZzZXRYOiBudW1iZXI7XG4gICAgb2Zmc2V0WTogbnVtYmVyO1xuICAgIHByaXZhdGUgaW5pdGlhbFdpZHRoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBpbml0aWFsSGVpZ2h0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBib3JkZXJXaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgYm9yZGVyUmFkaXVzOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBjYXJkRnJvbnRGYWNlOiBDYXJkRnJvbnRGYWNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgICAgY29uZmlnOiBDYXJkQ29uZmlnVHlwZUludGVyZmFjZSxcbiAgICAgICAgaW5pdGlhbFg6IG51bWJlcixcbiAgICAgICAgaW5pdGlhbFk6IG51bWJlcixcbiAgICApIHtcbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmluaXRpYWxXaWR0aCA9IG1pbGltZXRlclRvUGl4ZWwoNTcpO1xuICAgICAgICB0aGlzLmluaXRpYWxIZWlnaHQgPSBtaWxpbWV0ZXJUb1BpeGVsKDg5KTtcbiAgICAgICAgdGhpcy54ID0gaW5pdGlhbFg7XG4gICAgICAgIHRoaXMuaW5pdGlhbFggPSBpbml0aWFsWDtcbiAgICAgICAgdGhpcy55ID0gaW5pdGlhbFk7XG4gICAgICAgIHRoaXMuaW5pdGlhbFkgPSBpbml0aWFsWTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgYW5pbWF0aW9uUm90YXRpb25EaXJlY3Rpb246IDEsXG4gICAgICAgICAgICBzaGFraW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGhpZ2hsaWdodGluZzogZmFsc2UsXG4gICAgICAgICAgICBob3ZlcmluZzogZmFsc2UsXG4gICAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICAgIHNpemVSYXRpbzogMC44LFxuICAgICAgICAgICAgZnJvbnRGYWNpbmc6IHRydWUsXG4gICAgICAgICAgICBncmFiYmluZzogZmFsc2UsXG4gICAgICAgICAgICBpbkhhbmQ6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYm9yZGVyV2lkdGggPSAxOCAqIHRoaXMuc3RhdGUuc2l6ZVJhdGlvO1xuICAgICAgICB0aGlzLmJvcmRlclJhZGl1cyA9IDE4ICogdGhpcy5zdGF0ZS5zaXplUmF0aW87XG4gICAgICAgIHRoaXMub2Zmc2V0WCA9IDA7XG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IDA7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmNhcmRGcm9udEZhY2UgPSBuZXcgQ2FyZEZyb250RmFjZSh0aGlzKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuZ2V0UkdCKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsV2lkdGggKiB0aGlzLnN0YXRlLnNpemVSYXRpbyAtIHRoaXMuYm9yZGVyV2lkdGggKiAyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxIZWlnaHQgKiB0aGlzLnN0YXRlLnNpemVSYXRpbyAtIHRoaXMuYm9yZGVyV2lkdGggKiAyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbGVmdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy54IC0gdGhpcy5ib3JkZXJSYWRpdXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByaWdodCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aCArIHRoaXMuYm9yZGVyUmFkaXVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdG9wKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnkgLSB0aGlzLmJvcmRlclJhZGl1cztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGJvdHRvbSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLmJvcmRlclJhZGl1cztcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaGFraW5nIHx8IHRoaXMuc3RhdGUucm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVNoYWtlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5oaWdobGlnaHRpbmcgfHwgKHRoaXMueSA8IHRoaXMuaW5pdGlhbFkgJiYgIXRoaXMuc3RhdGUuaGlnaGxpZ2h0aW5nKSkge1xuICAgICAgICAgICAgLy8gaWYgc3RhdGUgaXMgbW92aW5nIHRvcCBvciB0aGlzLnkgaXMgbGVzcyB0aGFuIGluaXRpYWxZIHdoaWxlIG5vdCBob3ZlcmluZyBpdFxuICAgICAgICAgICAgdGhpcy5hbmltYXRlTW92aW5nVG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgcm91bmRlZFJlY3QoXG4gICAgICAgICAgICB0aGlzLmN0eCxcbiAgICAgICAgICAgIHRoaXMueCxcbiAgICAgICAgICAgIHRoaXMueSxcbiAgICAgICAgICAgIHRoaXMud2lkdGgsXG4gICAgICAgICAgICB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyUmFkaXVzLFxuICAgICAgICAgICAgdGhpcy5jb2xvcixcbiAgICAgICAgICAgICdyZ2IoMjUwLCAyNTAsIDI1MCknLFxuICAgICAgICAgICAgdGhpcy5ib3JkZXJXaWR0aCxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnJvdGF0aW9uLFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY2FyZEZyb250RmFjZS5kcmF3KCk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFBvcyh4OiBudW1iZXIsIHk6IG51bWJlcik6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4ge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLmluaXRpYWxYID0geDtcbiAgICAgICAgdGhpcy5pbml0aWFsWSA9IHk7XG4gICAgICAgIHJldHVybiB7IHg6IHRoaXMueCwgeTogdGhpcy55IH07XG4gICAgfVxuXG4gICAgcHVibGljIHNoYWtlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaGFraW5nKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5zaGFraW5nID0gdHJ1ZTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2hha2luZyA9IGZhbHNlO1xuICAgICAgICB9LCA1MCk7XG4gICAgfVxuXG4gICAgcHVibGljIGhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaGlnaGxpZ2h0aW5nKSByZXR1cm47XG4gICAgICAgIHRoaXMuc3RhdGUuaGlnaGxpZ2h0aW5nID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmhpZ2hsaWdodGluZyA9IGZhbHNlO1xuICAgICAgICB9LCAyNTApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTdGF0ZShzdGF0ZToga2V5b2YgQ2FyZFN0YXRlSW50ZXJmYWNlLCB2YWx1ZTogbnVtYmVyIHwgYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXRlW3N0YXRlXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTaXplUmF0aW8ocmF0aW86IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGxldCByID0gcmF0aW87XG4gICAgICAgIGlmIChyID4gMi4wKSB7XG4gICAgICAgICAgICByID0gMi4wO1xuICAgICAgICB9IGVsc2UgaWYgKHIgPCAwLjMpIHtcbiAgICAgICAgICAgIHIgPSAwLjU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZS5zaXplUmF0aW8gPSByO1xuICAgICAgICB0aGlzLmJvcmRlcldpZHRoICo9IHI7XG4gICAgICAgIHRoaXMuYm9yZGVyUmFkaXVzICo9IHI7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNpemVSYXRpbztcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIb3ZlcmluZyhtb3VzZVg6IG51bWJlciwgbW91c2VZOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG1vdXNlWCA+PSB0aGlzLmxlZnQgJiYgbW91c2VYIDw9IHRoaXMucmlnaHQgJiYgbW91c2VZID49IHRoaXMudG9wICYmIG1vdXNlWSA8PSB0aGlzLmJvdHRvbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UkdCKCk6IHN0cmluZyB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25maWcuY29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgJ0JMVUUnOlxuICAgICAgICAgICAgICAgIHJldHVybiAncmdiKDEsIDgzLCAxNjUpJztcbiAgICAgICAgICAgIGNhc2UgJ0dSRUVOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYig5OCwgMTY3LCA1MCknO1xuICAgICAgICAgICAgY2FzZSAnUkVEJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYigyMzEsIDM3LCAzNyknO1xuICAgICAgICAgICAgY2FzZSAnWUVMTE9XJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYigyNDAsIDIxMCwgNTApJztcbiAgICAgICAgICAgIGNhc2UgJ0FOWSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdyZ2IoMCwgMCwgMCknO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYigyNTUsIDAsIDI1NSknO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhbmltYXRlU2hha2UoKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gMTtcbiAgICAgICAgY29uc3Qgc3BlZWQgPSAwLjU7XG4gICAgICAgIGNvbnN0IHsgcm90YXRpb24sIGFuaW1hdGlvblJvdGF0aW9uRGlyZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAocm90YXRpb24gPiByYW5nZSAmJiBhbmltYXRpb25Sb3RhdGlvbkRpcmVjdGlvbiA+IDApIHx8XG4gICAgICAgICAgICAocm90YXRpb24gPCAtcmFuZ2UgJiYgYW5pbWF0aW9uUm90YXRpb25EaXJlY3Rpb24gPCAwKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYW5pbWF0aW9uUm90YXRpb25EaXJlY3Rpb24gKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZS5yb3RhdGlvbiArPSBzcGVlZCAqIGFuaW1hdGlvblJvdGF0aW9uRGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnN0YXRlLnJvdGF0aW9uID0gTnVtYmVyKHJvdGF0aW9uLnRvRml4ZWQoMikpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYW5pbWF0ZU1vdmluZ1RvcCgpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSA1MCAqIHRoaXMuc3RhdGUuc2l6ZVJhdGlvO1xuICAgICAgICBsZXQgc3BlZWQgPSAyMDtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaGlnaGxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy55ID49IHRoaXMuaW5pdGlhbFkgLSByYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMueSAtPSBzcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNwZWVkID0gMjA7XG4gICAgICAgICAgICBpZiAodGhpcy55IDw9IHRoaXMuaW5pdGlhbFkgJiYgIXRoaXMuc3RhdGUuaG92ZXJpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnkgKz0gc3BlZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdCb3VuZGluZ1JlY3QoKSB7XG4gICAgICAgIGxldCBzdHJva2VTdHlsZTogc3RyaW5nO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncmFiYmluZykge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaG92ZXJpbmcpIHtcbiAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gJ21hZ2VudGEnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuIiwiaW1wb3J0IHsgZ2V0Rm9udCB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBDYXJkSW50ZXJmYWNlLCBDYXJkQWN0aW9uVHlwZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5jbGFzcyBDYXJkRnJvbnRGYWNlIHtcbiAgICBwdWJsaWMgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgcHVibGljIGNhcmQ6IENhcmRJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBmb250U2l6ZTogbnVtYmVyO1xuICAgIHByaXZhdGUgZm9udEZhbWlseTogc3RyaW5nO1xuICAgIHByaXZhdGUgZm9udFN0cm9rZVdpZHRoOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihjYXJkOiBDYXJkSW50ZXJmYWNlKSB7XG4gICAgICAgIHRoaXMuY2FyZCA9IGNhcmQ7XG4gICAgICAgIHRoaXMuY3R4ID0gY2FyZC5jdHg7XG5cbiAgICAgICAgdGhpcy5mb250U2l6ZSA9IGNhcmQuaGVpZ2h0IC8gMi41O1xuICAgICAgICB0aGlzLmZvbnRGYW1pbHkgPSAnQXJpYWwgQmxhY2snO1xuICAgICAgICB0aGlzLmZvbnRTdHJva2VXaWR0aCA9IDMgKiB0aGlzLmNhcmQuc3RhdGUuc2l6ZVJhdGlvO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSh0aGlzLmNhcmQueCArIHRoaXMuY2FyZC53aWR0aCAvIDIsIHRoaXMuY2FyZC55ICsgdGhpcy5jYXJkLmhlaWdodCAvIDIpO1xuICAgICAgICB0aGlzLmN0eC5yb3RhdGUoKHRoaXMuY2FyZC5zdGF0ZS5yb3RhdGlvbiAqIE1hdGguUEkpIC8gMTgwKTtcblxuICAgICAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZC5jb25maWcudHlwZSA9PT0gPENhcmRBY3Rpb25UeXBlPidOVU1CRVInKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdOdW1iZXIodGhpcy5jYXJkLmNvbmZpZy52YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZC54ICsgdGhpcy5jYXJkLndpZHRoIC8gMjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0WSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkLnkgKyB0aGlzLmNhcmQuaGVpZ2h0IC8gMjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdCYWNrZ3JvdW5kKCkge1xuICAgICAgICBpZiAodGhpcy5jYXJkLmNvbmZpZy50eXBlID09PSAnTlVNQkVSJykge1xuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAxMDtcbiAgICAgICAgICAgIHRoaXMuY3R4LmVsbGlwc2UoXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZC53aWR0aCAtIDgwLFxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZC5oZWlnaHQgLSAxMzMsXG4gICAgICAgICAgICAgICAgKDE1ICogTWF0aC5QSSkgLyAxODAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBNYXRoLlBJICogMixcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd051bWJlcihudW1iZXI6IHN0cmluZykge1xuICAgICAgICBjb25zdCB4ID0gMDtcbiAgICAgICAgY29uc3QgeSA9IDA7XG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5jYXJkLndpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgZm9udCA9IGdldEZvbnQodGhpcy5mb250U2l6ZSwgdGhpcy5mb250RmFtaWx5KTtcblxuICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cbiAgICAgICAgdGhpcy5kcmF3VGV4dChudW1iZXIsIGZvbnQsIHgsIHksIG1heFdpZHRoKTtcblxuICAgICAgICBpZiAobnVtYmVyID09PSAnNicgfHwgbnVtYmVyID09PSAnOScpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KG51bWJlcikud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmRyYXdCb3R0b21EYXNoKFxuICAgICAgICAgICAgICAgIHggLSB0ZXh0V2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHkgKyB0aGlzLmZvbnRTaXplIC8gMyArIDIgKiB0aGlzLmNhcmQuc3RhdGUuc2l6ZVJhdGlvLFxuICAgICAgICAgICAgICAgIHRleHRXaWR0aCxcbiAgICAgICAgICAgICAgICBtYXhXaWR0aCxcbiAgICAgICAgICAgICAgICB0aGlzLmZvbnRTaXplLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvcm5lciBudW1iZXJzXG4gICAgICAgIGNvbnN0IGNvcm5lckZvbnRTaXplID0gdGhpcy5mb250U2l6ZSAvIDIgLSAxMDtcbiAgICAgICAgY29uc3QgY29ybmVyRm9udCA9IGdldEZvbnQoY29ybmVyRm9udFNpemUsIHRoaXMuZm9udEZhbWlseSk7XG4gICAgICAgIGNvbnN0IHRvcFggPSB4IC0gdGhpcy5jYXJkLndpZHRoIC8gMiArIGNvcm5lckZvbnRTaXplIC8gMjtcbiAgICAgICAgY29uc3QgdG9wWSA9IHkgLSB0aGlzLmNhcmQuaGVpZ2h0IC8gMiArIGNvcm5lckZvbnRTaXplIC8gMiArIDEwO1xuICAgICAgICB0aGlzLmRyYXdUZXh0KG51bWJlciwgY29ybmVyRm9udCwgdG9wWCwgdG9wWSwgbWF4V2lkdGggLyAyLCA1KTtcblxuICAgICAgICBjb25zdCBib3R0b21YID0geCArIHRoaXMuY2FyZC53aWR0aCAvIDIgLSBjb3JuZXJGb250U2l6ZSAvIDI7XG4gICAgICAgIGNvbnN0IGJvdHRvbVkgPSB5ICsgdGhpcy5jYXJkLmhlaWdodCAvIDIgLSBjb3JuZXJGb250U2l6ZSAvIDIgLSAxMDtcbiAgICAgICAgdGhpcy5kcmF3VGV4dChudW1iZXIsIGNvcm5lckZvbnQsIGJvdHRvbVgsIGJvdHRvbVksIG1heFdpZHRoIC8gMiwgNSk7XG5cbiAgICAgICAgaWYgKG51bWJlciA9PT0gJzYnIHx8IG51bWJlciA9PT0gJzknKSB7XG4gICAgICAgICAgICBjb25zdCBzaWRlVGV4dFdpZHRoID0gdGhpcy5jdHgubWVhc3VyZVRleHQobnVtYmVyKS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuZHJhd0JvdHRvbURhc2goXG4gICAgICAgICAgICAgICAgdG9wWCAtIHNpZGVUZXh0V2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHRvcFkgKyA1ICsgY29ybmVyRm9udFNpemUgLyA0ICsgMiAqIHRoaXMuY2FyZC5zdGF0ZS5zaXplUmF0aW8sXG4gICAgICAgICAgICAgICAgc2lkZVRleHRXaWR0aCxcbiAgICAgICAgICAgICAgICBtYXhXaWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgY29ybmVyRm9udFNpemUsXG4gICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmRyYXdCb3R0b21EYXNoKFxuICAgICAgICAgICAgICAgIGJvdHRvbVggLSBzaWRlVGV4dFdpZHRoIC8gMixcbiAgICAgICAgICAgICAgICBib3R0b21ZICsgNSArIGNvcm5lckZvbnRTaXplIC8gNCArIDIgKiB0aGlzLmNhcmQuc3RhdGUuc2l6ZVJhdGlvLFxuICAgICAgICAgICAgICAgIHNpZGVUZXh0V2lkdGgsXG4gICAgICAgICAgICAgICAgbWF4V2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIGNvcm5lckZvbnRTaXplLFxuICAgICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3VGV4dFNoYWRvdyh0ZXh0OiBzdHJpbmcsIGZvbnQ6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCBtYXhXaWR0aDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2Zmc2V0ICogdGhpcy5jYXJkLnN0YXRlLnNpemVSYXRpbzsgaSArPSAxKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dCh0ZXh0LCB4IC0gaSwgeSArIGkgLyAyLCBtYXhXaWR0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdUZXh0KHRleHQ6IHN0cmluZywgZm9udDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgbWF4V2lkdGg6IG51bWJlciwgc2hhZG93T2Zmc2V0ID0gMTApIHtcbiAgICAgICAgdGhpcy5kcmF3VGV4dFNoYWRvdyh0ZXh0LCBmb250LCBzaGFkb3dPZmZzZXQsIHgsIHksIG1heFdpZHRoKTtcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gdGhpcy5mb250U3Ryb2tlV2lkdGg7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRleHQsIHgsIHksIG1heFdpZHRoKTtcblxuICAgICAgICB0aGlzLmN0eC5zdHJva2VUZXh0KHRleHQsIHgsIHksIG1heFdpZHRoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdSZWN0U2hhZG93KG9mZnNldDogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgZm9udFNpemU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2Zmc2V0ICogdGhpcy5jYXJkLnN0YXRlLnNpemVSYXRpbzsgaSArPSAxKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh4IC0gaSwgeSArIGksIHdpZHRoLCBmb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdCb3R0b21EYXNoKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBtYXhXaWR0aDogbnVtYmVyLCBmb250U2l6ZTogbnVtYmVyLCBzaGFkb3dPZmZzZXQgPSAxMCkge1xuICAgICAgICBsZXQgZGlmZiA9IDA7XG4gICAgICAgIGxldCBkYXNoV2lkdGggPSB3aWR0aDtcbiAgICAgICAgaWYgKHdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgIGRpZmYgPSB3aWR0aCAtIG1heFdpZHRoO1xuICAgICAgICAgICAgZGFzaFdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZHJhdyBkYXNoIHNoYWRvd1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VSZWN0KHggKyBkaWZmLCB5LCBkYXNoV2lkdGgsIGZvbnRTaXplIC8gNik7XG4gICAgICAgIHRoaXMuZHJhd1JlY3RTaGFkb3coc2hhZG93T2Zmc2V0LCB4ICsgZGlmZiwgeSwgZGFzaFdpZHRoLCBmb250U2l6ZSAvIDYpO1xuXG4gICAgICAgIC8vIGRyYXcgZGFzaFxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGZvbnRTaXplIC8gNjtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoeCArIGRpZmYsIHksIGRhc2hXaWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdCh4ICsgZGlmZiwgeSwgZGFzaFdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZEZyb250RmFjZTtcbiIsImV4cG9ydCBpbnRlcmZhY2UgQ2FyZEludGVyZmFjZSB7XG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgY29uZmlnOiBDYXJkQ29uZmlnVHlwZUludGVyZmFjZTtcbiAgICBjb2xvcjogc3RyaW5nO1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgaW5pdGlhbFg6IG51bWJlcjtcbiAgICBpbml0aWFsWTogbnVtYmVyO1xuICAgIHN0YXRlOiBDYXJkU3RhdGVJbnRlcmZhY2U7XG4gICAgb2Zmc2V0WDogbnVtYmVyO1xuICAgIG9mZnNldFk6IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGxlZnQ6IG51bWJlcjtcbiAgICByaWdodDogbnVtYmVyO1xuICAgIHRvcDogbnVtYmVyO1xuICAgIGJvdHRvbTogbnVtYmVyO1xuICAgIHVwZGF0ZSgpOiB2b2lkO1xuICAgIGRyYXcoKTogdm9pZDtcbiAgICBzZXRQb3MoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIHNoYWtlKCk6IHZvaWQ7XG4gICAgaGlnaGxpZ2h0KCk6IHZvaWQ7XG4gICAgc2V0U3RhdGUoc3RhdGU6IGtleW9mIENhcmRTdGF0ZUludGVyZmFjZSwgdmFsdWU6IG51bWJlciB8IGJvb2xlYW4pOiB2b2lkO1xuICAgIHNldFNpemVSYXRpbyhyYXRpbzogbnVtYmVyKTogbnVtYmVyO1xuICAgIGlzSG92ZXJpbmcobW91c2VYOiBudW1iZXIsIG1vdXNlWTogbnVtYmVyKTogYm9vbGVhbjtcbiAgICBnZXRSR0IoKTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhbmRJbnRlcmZhY2Uge1xuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIGNhcmRzOiBDYXJkSW50ZXJmYWNlW107XG4gICAgYm90dG9tTWFyZ2luOiBudW1iZXI7XG4gICAgaW5pdEhhbmQoKTogdm9pZDtcbiAgICBhZGRDYXJkKGNhcmQ6IENhcmRJbnRlcmZhY2UpOiBDYXJkSW50ZXJmYWNlO1xuICAgIHVwZGF0ZSgpOiB2b2lkO1xuICAgIGRyYXdIYW5kKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW91c2VQb3NpdGlvbiB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1lU3RhdGVJbnRlcmZhY2Uge1xuICAgIGdyYWJiZWRDYXJkOiBDYXJkSW50ZXJmYWNlO1xuICAgIGhvdmVyQ2FyZDogQ2FyZEludGVyZmFjZTtcbiAgICBjbGlja2luZzogYm9vbGVhbjtcbiAgICBtb3VzZURvd25Qb3NpdGlvbjogTW91c2VQb3NpdGlvbjtcbiAgICBtb3VzZVVwUG9zaXRpb246IE1vdXNlUG9zaXRpb247XG4gICAgbW91c2VMYXN0UG9zaXRpb246IE1vdXNlUG9zaXRpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUNvbmZpZ0ludGVyZmFjZSB7XG4gICAgbkNhcmRzOiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIEdhbWVFdmVudEludGVyZmFjZSB7XG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVub0ludGVyZmFjZSB7XG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHN0YXRlOiBHYW1lU3RhdGVJbnRlcmZhY2U7XG4gICAgZXZlbnRzOiBHYW1lRXZlbnRJbnRlcmZhY2VbXTtcbiAgICBnYW1lQ29uZmlnOiBHYW1lQ29uZmlnSW50ZXJmYWNlO1xuICAgIHJ1bm5pbmc6IGJvb2xlYW47XG4gICAgY2FyZHM6IENhcmRJbnRlcmZhY2VbXTtcbiAgICBoYW5kOiBIYW5kSW50ZXJmYWNlO1xuICAgIHN0YXJ0KCk6IHZvaWQ7XG4gICAgc2V0Q29udGV4dEN1cnNvcihjdXJzb3I6IHN0cmluZyk6IHN0cmluZztcbiAgICBncmFiQ2FyZChjYXJkOiBDYXJkSW50ZXJmYWNlKTogQ2FyZEludGVyZmFjZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkU3RhdGVJbnRlcmZhY2Uge1xuICAgIFtzdGF0ZTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbjtcbiAgICBzaXplUmF0aW86IG51bWJlcjtcbiAgICBzaGFraW5nOiBib29sZWFuO1xuICAgIGhpZ2hsaWdodGluZzogYm9vbGVhbjtcbiAgICBob3ZlcmluZzogYm9vbGVhbjtcbiAgICBncmFiYmluZzogYm9vbGVhbjtcbiAgICByb3RhdGlvbjogbnVtYmVyO1xuICAgIGFuaW1hdGlvblJvdGF0aW9uRGlyZWN0aW9uOiBudW1iZXI7XG4gICAgaW5IYW5kOiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBDYXJkQWN0aW9uVHlwZSA9ICdOVU1CRVInIHwgJ1NLSVAnIHwgJ1JFVkVSU0UnIHwgJ0RSQVdfVFdPJyB8ICdXSUxEJyB8ICdXSUxEX0RSQVdfRk9VUic7XG5leHBvcnQgdHlwZSBDYXJkQ29sb3JUeXBlID0gJ1JFRCcgfCAnWUVMTE9XJyB8ICdHUkVFTicgfCAnQkxVRScgfCAnQU5ZJztcbmV4cG9ydCB0eXBlIENhcmROdW1iZXJUeXBlID0gMCB8IDEgfCAyIHwgMyB8IDQgfCA1IHwgNiB8IDcgfCA4IHwgOTtcbmV4cG9ydCB0eXBlIEZvbnRGYW1pbHlUeXBlID0gJ1ZlcmRhbmEnIHwgJ0FyaWFsJyB8ICdBcmlhbCBCbGFjaycgfCAnQ29taWMgU2FucyBNUyc7XG5leHBvcnQgZW51bSBDYXJkQ29sb3JFbnVtIHtcbiAgICBSRUQsXG4gICAgWUVMTE9XLFxuICAgIEdSRUVOLFxuICAgIEJMVUUsXG4gICAgQU5ZLFxufVxuZXhwb3J0IGVudW0gQ2FyZFR5cGVFbnVtIHtcbiAgICBOVU1CRVIsXG4gICAgU0tJUCxcbiAgICBSRVZFUlNFLFxuICAgIERSQVdfVFdPLFxuICAgIFdJTEQsXG4gICAgV0lMRF9EUkFXX0ZPVVIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZENvbmZpZ1R5cGVJbnRlcmZhY2Uge1xuICAgIHR5cGU6IENhcmRBY3Rpb25UeXBlO1xuICAgIHZhbHVlPzogQ2FyZE51bWJlclR5cGU7XG4gICAgY29sb3I6IENhcmRDb2xvclR5cGU7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9